<p-dialog [(visible)]="display" [width]="600" [modal]="modal"
          *ngIf="fornecedor">
  <form #f="ngForm" (ngSubmit)="onSubmit(f)" autocomplete="off">
    <p-accordion [activeIndex]="index">
      <p-accordionTab [selected]="true">
        <p-header>
          Dados fiscais
          <i class="fa fa-user" style="padding-left: 2.5rem"></i>
        </p-header>
        <div class="ui-g">

          <div class="ui-g-12 ui-fluid">
            <span class="ui-float-label">
              <input id="cnpj" type="text" pInputText name="cnpj" mask="99.999.999/9999-99"
                     [(ngModel)]="fornecedor.cnpj">
              <label for="cnpj">CNPJ</label>
            </span>
          </div>

          <div class="ui-g-12 ui-fluid">
            <span class="ui-float-label">
              <input id="razao" type="text" pInputText name="razao" #razao="ngModel"
                     [(ngModel)]="fornecedor.razao" required>
              <label for="razao">Razão Social*</label>
            </span>
          </div>

          <div class="ui-g-12 ui-fluid">
            <span class="ui-float-label">
              <input id="fantasia" type="text" pInputText name="fantasia" #fantasia="ngModel"
                     [(ngModel)]="fornecedor.fantasia" required>
              <label for="fantasia">Fantasia*</label>
            </span>
          </div>

          <div class="ui-g-12 ui-fluid">
            <p-checkbox name="isento" value="false" label="Isento?" #isento
                        [(ngModel)]="fornecedor.isento"></p-checkbox>
          </div>

          <div class="ui-g-6 ui-fluid">
            <span class="ui-float-label">
              <input id="insc_estadual" type="text" pInputText name="insc_estadual"
                     [disabled]="isento.checked" [(ngModel)]="fornecedor.inscEstadual">
              <label for="insc_estadual">Inscrição Estadual</label>
            </span>
          </div>
          <div class="ui-g-6 ui-fluid">
            <span class="ui-float-label">
              <input id="insc_municipal" type="text" pInputText name="insc_municipal"
                     [(ngModel)]="fornecedor.inscMunicipal">
              <label for="insc_municipal">Inscrição Municipal</label>
            </span>
          </div>

          <div class="ui-g-12 ui-fluid">
            <span class="ui-float-label">
              <textarea id="observacao" rows="3" pInputTextarea name="obs"
                        [(ngModel)]="fornecedor.observacao"></textarea>
              <label for="observacao">Observação</label>
            </span>
          </div>

        </div>

        <div class="ui-g">

          <div class="ui-g-12">
            <button type="button" pButton label="Avançar" (click)="openNext()" class="ui-button-secondary"></button>
          </div>

        </div>
      </p-accordionTab>
      <p-accordionTab>
        <p-header>
          Contato
          <i class="fa fa-address-book" style="padding-left: 4.8rem"></i>
        </p-header>
        <div class="ui-g">

          <div class="ui-g-6 ui-fluid">
            <span class="ui-float-label">
              <input id="telefone_principal" type="text" pInputText name="tel_principal"
                     [(ngModel)]="fornecedor.telefonePrincipal">
              <label for="telefone_principal">Telefone principal</label>
            </span>
          </div>

          <div class="ui-g-6 ui-fluid">
            <span class="ui-float-label">
              <input id="telefone_secundario" type="text" pInputText name="tel_secundario"
                     [(ngModel)]="fornecedor.telefoneSecundario">
              <label for="telefone_secundario">Telefone secundário</label>
            </span>
          </div>
          <div class="ui-g-12 ui-fluid">
            <span class="ui-float-label">
              <input id="contato" type="text" pInputText name="contato"
                     [(ngModel)]="fornecedor.contato">
              <label for="contato">Pessoa de contato</label>
            </span>
          </div>

          <div class="ui-g-12 ui-fluid">
            <span class="ui-float-label">
              <input id="email" type="email" pInputText name="email"
                     [(ngModel)]="fornecedor.email">
              <label for="email">E-mail</label>
            </span>
          </div>

        </div>

        <div class="ui-g">
          <div class="ui-g-12">
            <button type="button" pButton label="Voltar" (click)="openPrev()" class="ui-button-secondary"></button>
            <button type="button" pButton label="Avançar" (click)="openNext()" class="ui-button-secondary"></button>
          </div>
        </div>
      </p-accordionTab>
      <p-accordionTab>
        <p-header>
          Endereço
          <i class="fa fa-map-marker" style="padding-left: 4.1rem"></i>
        </p-header>
        <div class="ui-g" ngModelGroup="endereco">

          <div class="ui-g-4 ui-fluid">
            <span class="ui-float-label">
              <input id="cep" type="text" pInputText name="cep" mask="99.999-999" [(ngModel)]="fornecedor.endereco.cep"
                     (blur)="consultaCep($event.target.value, f)">
              <label for="cep">CEP</label>
            </span>
          </div>
          <div class="ui-g-8 ui-fluid"></div>

          <div class="ui-g-7 ui-fluid">
            <span class="ui-float-label">
              <input id="logradouro" type="text" pInputText name="logradouro" [(ngModel)]="fornecedor.endereco.logradouro">
              <label for="logradouro">Logradouro</label>
            </span>
          </div>
          <div class="ui-g-2 ui-fluid">
            <span class="ui-float-label">
              <input id="numero" type="text" pInputText name="numero" [(ngModel)]="fornecedor.endereco.numero">
              <label for="numero">Número</label>
            </span>
          </div>
          <div class="ui-g-3 ui-fluid">
            <span class="ui-float-label">
              <input id="complemento" type="text" pInputText name="complemento" [(ngModel)]="fornecedor.endereco.complemento">
              <label for="complemento">Complemento</label>
            </span>
          </div>

          <div class="ui-g-5 ui-fluid">
            <span class="ui-float-label">
              <input id="bairro" type="text" pInputText name="bairro" [(ngModel)]="fornecedor.endereco.bairro">
              <label for="bairro">Bairro</label>
            </span>
          </div>
          <div class="ui-g-5 ui-fluid">
            <span class="ui-float-label">
              <input id="cidade" type="text" pInputText name="cidade" [(ngModel)]="fornecedor.endereco.cidade">
              <label for="cidade">Cidade</label>
            </span>
          </div>
          <div class="ui-g-2 ui-fluid">
            <span class="ui-float-label">
              <input id="uf" type="text" pInputText name="uf" [(ngModel)]="fornecedor.endereco.uf">
              <label for="uf">Estado</label>
            </span>
          </div>

        </div>

        <div class="ui-g">
          <div class="ui-g-12">
            <button type="button" pButton label="Voltar" (click)="openPrev()" class="ui-button-secondary"></button>
            <button type="submit" pButton label="Salvar"></button>
          </div>
        </div>
      </p-accordionTab>
    </p-accordion>
  </form>
</p-dialog>
